Codestyle
=========

Version: 0.3.X

* Something that acts on chat buffer or any function that uses any
  chat buffer local variable should be named with `telega-chatbuf-`
  prefix
  - TODO: what about chat buffer commands?

* Functions that implements any (semi)direct call to tdlib function
  should be named as `telega--<tdlibName>`, for example if you see
  "sendMessageAlbum" definition in `td_api.tl' file, then
  `telega--sendMessageAlbum` is the perfect name for the function

* General callback functions should be named as
  `telega--on-<tdlibName>`, unless you use this callback as argument
  to `telega-server--call`

* Do NOT create hook with default value, because its value will be
  shadowed if telega is not yet loaded and user added some hook.
  Add hooks you want in load time, i.e. after (provide 'telega-FEATURE)

–ò–¥–µ–∏
====

–í—ã–Ω—É—Ç—å –∑–∞–∏–º–ø–ª–µ–º—á–µ–Ω—ã–µ –º–µ—Ç–æ–¥—ã:

   $ grep -h -r "on-update" *.el |grep defun | cut -c 19- | cut -d' ' -f 1 | sort -n
   $ egrep "^update" ~/dev/td/td/generate/scheme/td_api.tl | cut -d' ' -f 1 | sort -n

* –î–ª—è location —Å–æ–æ–±—â–µ–Ω–∏–π –∑–∞–≥—Ä—É–∂–∞—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ (—Å –ø–æ–º–æ—â—å—é
  `url-retrieve') –∫–∞—Ä—Ç–∏–Ω–∫–∏ —Å —è–Ω–¥–µ–∫—Å maps static api -
  https://tech.yandex.ru/maps/doc/staticapi/1.x/dg/concepts/input_params-docpage/

  –î–ª—è –ª–∞–π–≤—É—Ö –≤–æ –≤—Ä–µ–º–µ–Ω–∏ (edited) –ø–∏—Å–∞—Ç—å —Å–∫–æ–ª—å–∫–æ –Ω–∞–∑–∞–¥ –ø–æ –≤—Ä–µ–º–µ–Ω–∏. –¢–∏–ø–∞
  - right now
  - 2 minutes ago
  - 3 hours ago

  –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≥—É–≥–ª–æ–≤—ã–µ –∫–∞—Ä—Ç—ã - https://developers.google.com/maps/documentation/maps-static/dev-guide
  –≤ –Ω–∏—Ö –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞—Å—Ç–æ–º–Ω—ã–µ –º–µ—Ç–∫–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä —Å –∞–≤–∞—Ç–∞—Ä–∫–∞–º–∏

* [DONE] –ó–∞—Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ç—å button based –≤–∞—Ä–∏–∞–Ω—Ç —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –±—É—Ñ–µ—Ä–æ–≤
  —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ ewoc.  –í ewoc –µ—Å—Ç—å –∫—É—á–∞ –Ω—É–∂–Ω–æ–≥–æ –¢–∞–∫–∂–µ,
  –º–æ–∂–Ω–æ –≤–º–µ—Å—Ç–æ —Ñ–æ—Ä–º–∞—Ç–µ—Ä–æ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–Ω—Å—ë—Ä—Ç–µ—Ä—ã, —Ç–æ–≥–¥–∞ –º–æ–∂–Ω–æ –±—É–¥–µ—Ç
  –ø–∏—Å–∞—Ç—å –∏–Ω—Å—ë—Ä—Ç–µ—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ –∑–Ω–∞—é—Ç –æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –∏–Ω—Å—ë—Ä—Ç–µ—Ä–æ–≤.
  –ù–∞–ø—Ä–∏–º–µ—Ä, —á—Ç–æ–±—ã –≤—Å—Ç–∞–≤–∏—Ç—å –¥–∞—Ç—É, –Ω—É–∂–Ω–æ –ª–∏—à—å –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ —Ç–µ–∫—É—â—É—é
  –∫–æ–ª–æ–Ω–∫—É –∏ –≤—Å—Ç–∞–≤–∏—Ç—å –Ω—É–∂–Ω–æ–µ —á–∏—Å–ª–æ –ø–∞–¥–¥–∏–Ω–≥–∞

* [TODO] –†–µ–∂–∏–º, –≤ –∫–æ—Ç–æ—Ä–æ–º –ø–æ–¥—Å–≤–µ—á–∏–≤–∞–µ—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –∫–æ—Ç–æ—Ä–æ–º –∫—É—Ä—Å–æ—Ä,
  –∞–ª—è show-paren-style=='expression

* [DONE] –ü—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏/–æ—Ç–≤–µ—Ç–µ –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å help —Å—Ç—Ä–æ–∫—É
  –≤ echo area, –≤ –∫–æ—Ç–æ—Ä–æ–π –ø–æ–¥—Å–∫–∞–∑–∞—Ç—å –∫–∞–∫–æ–π –∫–Ω–æ–ø–∫–æ–π –æ—Ç–º–µ–Ω–∏—Ç—å
  —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ/–æ—Ç–≤–µ—Ç

* –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∫–∞–∫ –º–æ–∂–Ω–æ –≤–∫–ª—é—á–∏—Ç—å flyspell –≤ chat –±—É—Ñ–µ—Ä–∞—Ö
  –í–æ–∑–º–æ–∂–Ω–æ –∑–∞—Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–æ—Å—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º flyspell-mode –≤
  telega-chat-mode-hook

* –í–µ—Å—Ç–∏ –≤ 'Saved Messages' –¥–æ–∫—É–º–µ–Ω—Ç, –≤ –∫–æ—Ç–æ—Ä–æ–º —Ö—Ä–∞–Ω—è—Ç—Å—è —Å–ø–∏—Å–æ–∫
"<buffer-name> . <telegram-id>" —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –º–æ–∂–Ω–æ –±—É–¥–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å
—Ñ–∞–π–ª—ã –≤ —Ç–µ–ª–µ–≥—Ä–∞–º–µ.  –ù–æ –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –º–æ–∂–Ω–æ –ª–∏ –ø–µ—Ä–µ—Å–æ—Ö—Ä–∞–Ω—è—Ç—å —Ñ–∞–π–ª—ã —Å
—Ç–µ–º –∂–µ id.

* –ò–∫–æ–Ω–∫–∏ - all-the-icons package [NO PLEASE], –∏—Å–ø–æ–ª—å–∑—É–µ–º unicode

* ! –ê–≤–∞—Ç–∞—Ä–∫–∏ –º–æ–∂–Ω–æ —Ä–∞–∑–±–∏–≤–∞—Ç—å –Ω–∞ —á–∞—Å—Ç–∏, —á—Ç–æ–±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å –≤
–º—É–ª—å—Ç–∏–ª–∞–π–Ω–µ. [DONE]

* –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω—ã–µ –≥–∏—Ñ–∫–∏ —á–µ—Ä–µ–∑ —Ç–∞–π–º–µ—Ä, —Å–º.

* [WON'T DO] –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –∫–∞–∫ –∏–∑–º–µ–Ω—è–ª—Å—è Status, —Ç–∏–ø–∞:
    Status:  Conn Ready <-- Connecting <-- Auth Checking...
  –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å elide –¥–ª—è –æ–±—Ä–µ–∑–∫–∏

Stickers
--------

$ sudo apt-get install webp  - —á—Ç–æ–±—ã –±—ã–ª–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –≤ imagemagick

File downloading/uploading
--------------------------

* –î–ª—è –∑–∞–≥—Ä—É–∑–∫–∏/–∞–ø–ª–æ–∞–¥–∞ –¥–∞–Ω–Ω—ã—Ö –≤ cloud –æ—Ñ–æ—Ä–º–∏—Ç—å –ø–æ–¥—Å–∏—Å—Ç–µ–º—É —Å–æ —Å–≤–æ–∏–º–∏
  –∫–æ–ª–±–µ–∫–∞–º–∏ –∏ —Ç–¥

Async loading
~~~~~~~~~~~~~

- –ï—Å–ª–∏ –¥–µ–ª–∞–µ—Ç—Å—è –∫–∞–∫–æ–π-–¥–æ –¥–æ–ª–≥–∏–π –∑–∞–ø—Ä–æ—Å —Ç–æ –º–æ–∂–Ω–æ –≤—ã–≤–µ—Å—Ç–∏ —Å–Ω–∞—á–∞–ª–∞
Loading.. (–º–æ–∂–Ω–æ –∞–Ω–∏–º–∏—Ä–æ–≤–∞—Ç—å –¥–∞–∂–µ —Ç–æ—á–∫–∏) –∏ –∫–æ–≥–¥–∞ –∑–∞–ø—Ä–æ—Å –∑–∞–≤–µ—Ä—à—ë–Ω, —Ç–æ
—É–¥–∞–ª–∏—Ç—å Loading –∏ –≤—ã–∑–≤–∞—Ç—å callback.  [DONE] –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø–æ –ø—É–±–ª–∏—á–Ω—ã–º
–≥—Ä—É–ø–ø–∞–º –∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º

–¢–∞–∫, –Ω–∞–ø—Ä–∏–º–µ—Ä, –º–æ–∂–Ω–æ –ø–æ–¥–≥—Ä—É–∂–∞—Ç—å –¥–ª–∏–Ω–Ω—ã–µ —Å–ø–∏—Å–∫–∏ members –¥–ª—è —Å—É–ø–µ—Ä–≥—Ä—É–ø–ø.
–ò–ª–∏ chats in common –¥–ª—è —é–∑–µ—Ä–∞

============= Root buffer =============

–ú–æ–∂–Ω–æ –∑–∞—Å–µ—Ç–∞–ø–∏—Ç—å header/mode-line —á—Ç–æ–±—ã –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ
telega-server, –∏ —Å–∞–º–∞—Ä–∞–π–∑ —Ç–æ —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç

Widget based buffer

State:  Connecting..
Search: [here is something to search]

Recent Chats
------------
                           
[Saved Messages                  4]p
    14:15V some photo here
[Pig's Thursday               32@2]p
    17:15W @zevlg> last message in chatroom
|Vasya Pupkin                    1|
    11:11V hello there
#FBI leaks                    11@1#
    10.04.18V just wipe the file and forget
[Telegram Resistance             1]
    14:14V @vpupkin> Can you see it?
(Seliger                       4@1)
    MonW @vpupkin> I will not go

–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–æ–±—â–µ–Ω–∏–π (—Å–ø—Ä–∞–≤–∞ –æ—Ç title) - –í–°–ï–ì–û[@MENTIONS]

|name    | - private chat with user
(name ...) - basic groups
[name ...] - super groups
#name    # - secret chat
<name ...> - channels
{name ...} - bots

[DONE] –°–∏–º–≤–æ–ª –æ —Å—Ç–∞—Ç—É—Å–µ –¥–æ—Å—Ç–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –≤–æ–∑–ª–µ –≤—Ä–µ–º–µ–Ω–∏
O - –í –ø—Ä–æ—Ü–µ—Å—Å–µ –¥–æ—Å—Ç–∞–≤–∫–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
V - –û–¥–Ω–∞ –≥–∞–ª–∫–∞
W - –î–≤–æ–π–Ω–∞—è –≥–∞–ª–∫–∞

[DONE partly] –°–∏–º–≤–æ–ª—ã –ø–æ—Å–ª–µ title —á–∞—Ç–∞
p - pinned  -- Unicode Character 'PUSHPIN' (U+1F4CC) UTF-8 (hex): 0xF0 0x9F 0x93 0x8C (f09f938c)
m - muted
* - online
o - away
v - verified (+4277 for example)

[DONE] –î–∞—Ç–∞:
- –ï—Å–ª–∏ —Å–µ–≥–æ–¥–Ω—è, —Ç–æ —Ñ–æ—Ä–º–∞—Ç –ß–ê–°:–ú–ò–ù–£–¢–ê
- E—Å–ª–∏ –Ω–∞ —ç—Ç–æ–π –Ω–µ–¥–µ–ª–µ —Ç–æ —Ç—Ä—ë—Ö–±—É–∫–≤–µ–Ω–Ω—ã–π –î–ï–ù–¨ –ù–ï–î–ï–õ–ò
- –ï—Å–ª–∏ –¥—Ä—É–≥–æ–µ —Ç–æ –î–ï–ù–¨.–ú–ï–°–Ø–¶.–ì–û–î (–≥–æ–¥ –¥–≤—É—Ö–±—É–∫–≤–µ–Ω–Ω—ã–π)

Bots
----

Same as in chats, but only bots

Users
-----

PIC Vasya Pupkin @vpupkin     2    last seen recently
   14:15V some photo here
PIC Evgeny Zajcev @zevlg           last seen long ago
   FriW message from me        

Channels
--------

Same as in chats, but only channels

Tabbed design
=============

Pinned
------

[Saved Messages                  4]p
    14:15V some photo here
...

[Chats 10] [Secrets N] [Groups 10] [Bots 3] [Users 4] [Channels 4]
----------'           `-------------------------------------------

[Pig's Thursday               32@2]
    17:15W @zevlg> last message in chatroom
....

–ñ–∏—Ä–Ω—ã–º –≤—ã–¥–µ–ª—è—Ç—å –∞–∫—Ç–∏–≤–Ω—É—é –≤–∫–ª–∞–¥–∫—É

Filter based design ala ibuffer
===============================

–ü—Ä–æ—Å—Ç–æ —Å–ø–∏—Å–æ–∫ —á–∞—Ç–æ–≤ –∏ –Ω–∞–∫–ª–∞–¥—ã–≤–∞—Ç—å –Ω–∞ –Ω–µ–≥–æ –≤—Å–µ–≤–æ–∑–º–æ–∂–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã

–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞–≤–∞—Ç—å –∫–∞—Å—Ç–æ–º–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã

–§–∏–ª—å—Ç—Ä - –ø—Ä–µ–¥–∏–∫–∞—Ç, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞ –≤—Ö–æ–¥ –ø–æ–ª—É—á–∞–µ—Ç —á–∞—Ç –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç non-nil
–µ—Å–ª–∏ —á–∞—Ç –Ω—É–∂–Ω–æ –≤–∫–ª—é—á–∏—Ç—å –≤ —Å–ø–∏—Å–æ–∫

State: Conn Ready
Search: [search String]
Filter: (custom Groups&Users) (unread)
Custom: [All 10] [Groups&Users 10] [Secrets N]
        [Groups 10] [Bots 3] [Users 4] [Channels 4]

–¢—É—Ç —Å–ø–∏—Å–æ–∫ —á–∞—Ç–æ–≤,

Filters:
  (type CHAT-TYPE) - by telega-chat--type
  (custom FILTER-NAME) - by custom filter type
  title      - –ø–æ title —á–∞—Ç–∞
  unread     - —á–∞—Ç—ã —Å –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏
  mention    - —á–∞—Ç—ã —Å —É–ø–æ–º–∏–Ω–∞–Ω–∏–µ–º
  pin        - pinned chats


–í–∞—Ä–∏–∞–Ω—Ç –∫–∞–∫ –º–æ–∂–µ—Ç –µ—â—ë –≤—ã–≥–ª—è–¥–µ—Ç—å:   (—Å–∞–º—ã–π –Ω–æ—Ä–º–∞–ª—å–Ω—ã–π –∏ –º–æ—â–Ω—ã–π)

    Status: Auth Closed
    
    [276  All          1940@1] [191  Groups&Users    568@1]
    [80   Groups        568@1] [27   Bots                 ]
    [58   Channels       1372]
    
    -------------------------((custom "Groups"))-------------------------
    
    [Saved Messages                  4]p
        14:15V some photo here
    [Pig's Thursday               32@2]p
        17:15W @zevlg> last message in chatroom
    ....
    ....

–ö–Ω–æ–ø–∫–∏ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–æ–π —à–∏—Ä–∏–Ω—ã, –ø–æ—ç—Ç–æ–º—É –Ω–µ—Ç –ø—Ä–æ–±–ª–µ–º —Å point –µ—Å–ª–∏
–æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∫–æ–Ω—Ç–µ–Ω—Ç –∫–Ω–æ–ø–∫–∏.

–í —Ä–∞–∑—Ä—ã–≤–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∞–∫—Ç–∏–≤–Ω—ã–π —Ñ–∏–ª—å—Ç—Ä.
–ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É, –∫–∞—Å—Ç–æ–º–Ω—ã–π —Ñ–∏–ª—å—Ç—Ä –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –∫ —Ç–µ–∫—É—â–µ–º—É.
–û–¥–Ω–∞–∫–æ, –µ—Å–ª–∏ –Ω–∞–∂–∏–º–∞–µ—Ç—Å—è —Å prefix-arg, —Ç–æ —Ñ–∏–ª—å—Ç—Ä —Ä–µ–∑–µ—Ç–∏—Ç—Å—è, –¥–æ —Ç–æ–≥–æ,
–∫–æ—Ç–æ—Ä—ã–π —É–∫–∞–∑–∞–Ω –Ω–∞ –∫–Ω–æ–ø–∫–µ

–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ —Ç–µ –∫–Ω–æ–ø–∫–∏ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏, –≥–¥–µ –µ—Å—Ç—å —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω —á–∞—Ç.
–õ–∏–±–æ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –≤—Å—ë, –Ω–æ –≥–¥–µ 0 —á–∞—Ç–æ–≤ –¥–µ–ª–∞—Ç—å inactive

–ü–æ–∏—Å–∫ —Å–¥–µ–ª–∞—Ç—å –∫–∞–∫ –æ–¥–∏–Ω –∏–∑ —Ñ–∏–ª—å—Ç—Ä–æ–≤

–°–¥–µ–ª–∞—Ç—å –æ–±—â–∏–π —Ñ–æ—Ä–º–∞—Ç—Ç–µ—Ä –∞–ª—è –∫–∞–∫ –≤ ibuffer —á—Ç–æ–±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ
—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–∞–π—Ç–ª—ã –¥–ª—è –∫–∞—Å—Ç–æ–º–Ω—ã—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤ –∏ —á–∞—Ç-–±–∞—Ç—Ç–æ–Ω—ã.  –ú–æ–∂–µ—Ç
–º–æ–∂–Ω–æ –±—É–¥–µ—Ç —ç—Ç–æ—Ç —Ñ–æ—Ä–º–∞—Ç—Ç–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏ –≤ –±—É—Ñ–µ—Ä–∞—Ö —á–∞—Ç–æ–≤

–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
==============

–§–æ—Ä–º–∞—Ç - –ø–∞—Ä–∞ –≥–¥–µ car —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –æ–±—ä–µ–∫—Ç –∏
–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç alist –ª–æ–∫–∞–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥–ª—è –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è –≤ body. –¢–∞–∫–∏–º
–æ–±—Ä–∞–∑–æ–º –≤ body –º–æ–≥—É—Ç –±—ã—Ç—å –≤—Å—è–∫–∏–µ if, when, etc

–†–µ–∑—É–ª—å—Ç–∞—Ç –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è body - —Å–ø–∏—Å–æ–∫ –æ–±—ä–µ–∫—Ç–æ–≤ –ª–∏–±–æ —Å—Ç—Ä–æ–∫ –ª–∏–±–æ –≤–∏–¥–∞

–§–æ—Ä–º–∞—Ç –±–µ–∑ –ª–æ–∫–∞–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö - :format     (aka simple)
–§–æ—Ä–º–∞—Ç —Å –ª–æ–∫–∞–ª—å–Ω—ã–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ - :format-ext (aka extended)

(ELEM :min :max :elide :elide-trail :elide-string :align
      :fill :fill-prefix t :fill-column <NUM>
      :align-symbol :face)

–ì–¥–µ ELEM –º–æ–∂–µ—Ç –±—ã—Ç—å –æ–¥–Ω–∏–º –∏–∑:
  string - –ò—Å–ø–æ–ª—å–∑—É–µ–º –∫–∞–∫ –µ—Å—Ç—å
  symbol - –ò—â–µ–º –≤ –¥–µ—Ñ–∏–Ω–∏—Ü–∏—è—Ö —Ñ–æ—Ä–º–∞—Ç–∞ —Å–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é —Ñ—É–Ω–∫—Ü–∏—é –∏ –≤—ã–∑—ã–≤–∞–µ–º
           –µ—ë –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Ç—Ä–æ–∫–∏
  list   - –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º –µ–≥–æ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Ç—Ä–æ–∫–∏

–ê—Ç—Ç—Ä–∏–±—É—Ç—ã
~~~~~~~~~
  :min           - –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä
  :max           - –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä
  :elide         - non-nil —á—Ç–æ–±—ã eliding –≤—Å—Ç–∞–≤–ª—è—Ç—å
  :elide-string  - –°—Ç—Ä–æ–∫–∞ –¥–ª—è —ç–ª–∏–¥–∏–Ω–≥–∞
  :elide-trail   - –°–∫–æ–ª—å–∫–æ —Å–∏–º–≤–æ–ª–æ–≤ –≤–∫–æ–Ω—Ü–µ –æ—Å—Ç–∞–≤–ª—è—Ç—å (default=0), –±—É–¥–µ—Ç
                   –≤—ã–≥–ª—è–¥–µ—Ç—å –≤–æ—Ç —Ç–∞–∫: "Verylongstri...ail" –µ—Å–ª–∏
                   :elide-trail = 3
  :align         - –∫—É–¥–∞ –∞–ª–∏–≥–Ω–∏—Ç—å `left', `right', `center'
  :align-symbol  - –∫–∞–∫–∏–º —Å–∏–º–≤–æ–ª–æ–º –ø–∞–¥–¥–∏—Ç—å –ø–æ—Å–ª–µ –∞–ª–∏–≥–Ω–∞ (SPACE –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
  :face          - face –∫–æ—Ç–æ—Ä—É—é –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è —ç—Ç–æ–≥–æ ELEM
  :fill          - –ö–∞–∫ –¥–µ–ª–∞—Ç—å fill –¥–ª—è —Å—Ç—Ä–æ–∫–∏
  :fill-prefix   - –í—Å—Ç–∞–≤–ª—è—Ç—å –ø—Ä–µ—Ñ–∏–∫—Å –∏–∑ –ø—Ä–æ–±–µ–ª–æ–≤

–°–¥–µ–ª–∞—Ç—å –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–æ–≤: –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –Ω–∞ –≤—Ö–æ–¥ —Ñ—É–Ω–∫—Ü–∏—é
–¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö, —Ñ–æ—Ä–º–∞—Ç –∏ –¥–µ—Ñ–∏–Ω–∏—Ü–∏–∏ –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–Ω—ã—Ö
—Å–∏–º–≤–æ–ª–æ–≤, –∞ –Ω–∞ –≤—ã—Ö–æ–¥—ã –≤—ã–¥–∞—ë—Ç —Ñ—É–Ω–∫—Ü–∏—é —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –æ—Ç –æ–¥–Ω–æ–≥–æ –∞—Ä–≥—É–º–µ–Ω—Ç
- –æ–±—ä–µ–∫—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

Searching in telega root
========================

–ö–æ–≥–¥–∞ –∏—â—É—Ç, —Ç–æ –º–æ–∂–Ω–æ –ø—Ä–æ—Å—Ç–æ —Å–ø—Ä—è—Ç–∞—Ç—å –≤—Å—ë —á—Ç–æ –æ—Ç root--chats-mark –∏
–ø–æ–∫–∞–∑–∞—Ç—å –ø–æ–∏—Å–∫, –ø–æ—Ç–æ–º —É–¥–∞–ª–∏—Ç—å –≤—Å—ë –¥–æ root--chats-marks –∏ –ø–æ–∫–∞–∑–∞—Ç—å
—Å–Ω–æ–≤–∞ —á–∞—Ç—ã

State: Conn Ready
Search: [text to search               ]

Global
------

User1
User2
Channel1

Chats and Users
---------------
listing ...
listing ..

Messages
--------

User1 msg
User2 msg2

^^^^^–ü–ª–æ—Ö–æ

–ò–ª–∏ –ª—É—á—à–µ, –≤–≤–µ—Å—Ç–∏ –ø–æ–Ω—è—Ç–∏–µ —Ç–∏–ø–∞ —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–∏—è –∏ –µ—Å–ª–∏ —Å–µ–π—á–∞—Å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω—ã —á–∞—Ç—ã —Ç–æ —É–¥–∞–ª—è—Ç—å –≤—Å—ë –∏–∑ root ewoc, –º–µ–Ω—è—Ç—å –µ–≥–æ pretty-printer –∏ –¥–æ–±–∞–ª—è—Ç—å –¥—Ä—É–≥–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã

—Ç–∏–ø–∞
----(chats ...)----
–û–±—ã—á–Ω—ã–π –¥–∏—Å–ø–ª–µ–π —á–∞—Ç–æ–≤

----(global "keyword")----
)chat1      (  ;; –¢–∞–∫–∏–µ —Å–∫–æ–±–∫–∏ –µ—Å–ª–∏ –Ω–µ member
)chat2      (
--------------------------------- (divider)
–æ–±—ã—á–Ω—ã–µ —á–∞—Ç—ã
[normal-chat1]
[narmal-chat2]
...


–∏–ª–∏:
----(messages "keyword")----
[chat1] msg1
[chat2] msg2
..
----(shared 'type (type photo))----
Thumbnail1 Thumbnail2
[Load More]  button to load more

----(calls missed)----
missed call1
missed call2

=============
 Chat buffer
=============

TODO: –ø–æ–¥—É–º–∞—Ç—å —á–æ –∫–∞–∫ —Ç—É—Ç –¥–æ–ª–∂–Ω–æ –≤—ã–≥–ª—è–¥–∏—Ç—å

- use lui based mode.  –õ—É—á—à–µ –≤—Å—ë —Ç–∞–∫–∏ —Å–≤–æ–π —Ä–µ–∂–∏–º —Å–¥–µ–ª–∞—Ç—å, —á—Ç–æ–±—ã –Ω–µ
  –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—Ç—å—Å—è –∏ –Ω–µ –∑–∞–≤–∏—Å–∏—Ç—å –æ—Ç lui, –±—É–¥–µ—Ç –±–æ–ª—å—à–µ –∫–æ–Ω—Ç—Ä–æ–ª—è —Ö–æ—Ç—å –∏
  –ø—Ä–∏–¥—ë—Ç—Å—è –ø–µ—Ä–µ–∏–º–ø–ª–µ–º–µ–Ω—Ç–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –∏–∑ lui

17:15W @vpupkin> message from v pupkin
17:19V @zevlg> message from me, highlighted with different background color
------------------------[text here for page cut]------------------------

- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º—É–ª—å—Ç–∏–ª–∞–π–Ω–∞ –ø–æ Ctrl-Enter, C-j

- –í—Å—Ç–∞–≤–ª—è—Ç—å —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å –¥–∞—Ç—ã, –≤ —Å–ª—É—á–∞–µ –µ—Å–ª–∏ –Ω–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –Ω–æ–≤–æ–º
  –¥–Ω–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä:

    17:15W @vpupkin> message from v pupkin
    ---------------------(May 4)---------------------
    00:01W @zevlg> new message here

  —Å–º. circe-new-day-notifier.el
  —Å–º. telega-chat-insert-date-breaks

Prompts
~~~~~~~

Normal:
    __________________________
    >>> [] 

Edit:
    __________________________
    | Edit: message text...
    `-> []

Reply:
    __________________________
    | Reply: @vpupkin> message lala ...
    `-> []

If not a member of chat:
    __________________________
    [ JOIN ]

Formatting messages:

[AH] @user (admin)
[AL] message here long message
     continue message message              12:20w


Channel message with signature:

üëÅ10 --Mike Hoorn
message here long message
continue message message                   12:20w

with reply markup
~~~~~~~~~~~~~~~~~
   
[AH] @vpupkin
[AL] | Reply: @user> msagsac
     messgasaoenth
     sntahoe ntoahssssss asonth eosn       11:18
     [ button1 ]  [ button2 ]

[AH] @vpupkin
[AL] | Forwarded From: @user
     msg msg

Prompt with chat action
~~~~~~~~~~~~~~~~~~~~~~~

(–ë–ë) –ë–∏–ª–µ—Ç—ã –ú–æ—Å–∫–≤–∞
     –ë–∏–ª–µ—Ç—ã –Ω–∞ –£—Å–∏–∫ -–ì–∞—Å–∏–µ–≤                19:01
____(@zevlg is typing...)_______________________
>>> []

–ò–¥–µ–∏
~~~~

- –ï—Å–ª–∏ —á—É–≤–∞–∫ –ø—Ä–æ–∫—Ä—É—á–∏–≤–∞–ª –∏—Å—Ç–æ—Ä–∏—é –∏ –≤ —ç—Ç–æ –≤—Ä–µ–º—è –ø—Ä–∏—Ö–æ–¥—è—Ç —Å–æ–æ–±—â–µ–Ω–∏—è, —Ç–æ
  –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å–∫–æ–ª—å–∫–æ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ modeline. [TODO]

- –ï—Å–ª–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏—è, –Ω–æ —Å–∞–º–æ–µ –ø–æ—Å–ª–µ–¥–Ω–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –µ—â—ë
  –∑–∞–≥—Ä—É–∂–µ–Ω–æ, —Ç–æ –¥–µ–ª–∞—Ç—å input –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã–º, –∞ –≤ footer –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å

  ---------vvvvvvvvvvvvvvvvvvvvv-------------

Shared media
~~~~~~~~~~~

–∞–ª—è —Ñ–∏–ª—å—Ç—Ä—ã –¥–ª—è —á–∞—Ç–æ–≤, —Ç–æ–ª—å–∫–æ –¥–ª—è —Å–æ–æ–±—â–µ–Ω–∏–π

MSG1
MSG2
_______________________________[shared photos]__
>>> []

MSG1
MSG2
_____________________________[search "–ø—Ä–∏–≤–µ—Ç"]__
>>> []

–ï—Å–ª–∏ –∏–≥—Ä–∞–µ—Ç—Å—è voice/videoNote
_____________________________[‚è∏ @zevlg [stop]]__
>>> []

TODO
----

* –í—Å–µ–≥–¥–∞ —Ç—Ä–µ–∫–∞—Ç—å —Ñ–∞–π–ª—ã –≤ msg –Ω–∞ –∞–ø–¥–µ–π—Ç—ã, —á—Ç–æ–±—ã –Ω–∞–ø—Ä–∏–º–µ—Ä
  `telega--deleteFile' –æ—Ç—Ä–∞–±–∞—Ç—ã–≤–∞–ª—Å—è.  –í–æ–∑–º–æ–∂–Ω–æ –µ—â—ë –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è —ç—Ç–æ
  –¥–ª—è —Ç—Ä–µ–∫–∏–Ω–≥–∞ –∑–∞–ª–∏–≤–∫–∏ —Ñ–∞–π–ª–∞
